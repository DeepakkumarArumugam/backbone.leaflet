/*! backbone.leaflet - v0.0.1-dev - 2/11/2013
* http://github.com/LuizArmesto/backbone.leaflet
* Copyright (c) 2013 Luiz Armesto; Licensed MIT */
(function(e,t,n,r){"use strict";var i={};i.VERSION="0.0.1-dev";var s=e.Leaflet;e.Leaflet=i,i.noConflict=function(){return e.Leaflet=s,this};var o=i.GeoModel=e.Model.extend({}),u=i.GeoCollection=e.Collection.extend({}),a=/^(\S+)\s*(.*)$/,f=i.MapView=e.View.extend({defaultMapOptions:{center:[-23.5,-46.6167],zoom:14},initialize:function(){return this.mapOptions=t.defaults(this.options.map||{},this.defaultMapOptions),this.map=new r.Map(this.el,this.mapOptions),this.tileLayer=this.getTileLayer(),this.tileLayer.addTo(this.map),this},delegateEvents:function(n){var r="delegateEvents"+this.cid;e.View.prototype.delegateEvents.apply(this,arguments);if(!n&&!(n=t.result(this,"events")))return this;this._leaflet_events={};for(var i in n){var s=n[i];t.isFunction(s)||(s=this[n[i]]);if(!s)throw new Error('Method "'+n[i]+'" does not exist');var o=i.match(a),u=o[1],f=o[2];s=t.bind(s,this),f==="map"&&(this.map.on(u,s,r),this._leaflet_events[u]=s)}return this},undelegateEvents:function(){var t="delegateEvents"+this.cid;return this.map.off(this._leaflet_events||{},t),this._leaflet_events=null,e.View.prototype.undelegateEvents.apply(this,arguments)},getTileLayer:function(){return new r.TileLayer("http:///{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png",{attribution:'Data, imagery and map information provided by <a href="http://www.mapquest.com/">MapQuest</a>, <a href="http://www.openstreetmap.org/">Open Street Map</a> and contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>.',subdomains:["otile1","otile2","otile3","otile4"]})}}),l=i.SatelliteView=f.extend({defaultMapOptions:{center:[-23.5,-46.6167],zoom:11},getTileLayer:function(){return new r.TileLayer("http:///{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",{attribution:'Data and imagery provided by <a href="http://www.mapquest.com/">MapQuest</a>. Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency.',subdomains:["otile1","otile2","otile3","otile4"]})}})})(Backbone,_,jQuery,L);