<html>
  <head>
    <title>Backbone.Leaflet Map Example</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="../lib/css/leaflet.css" />
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="../lib/css/leaflet.ie.css" />
    <![endif]-->
    <style>
      #geoJSON,
      #map {
        width: 700px;
      }
      #map {
        height: 400px;
      }
      #geoJSON {
        height: 150px;
      }
      #render {
        padding: 10px;
      }
    </style>
  </head>
  <body>
    <h1>Map Example</h1>
    <div id="map"></div>
    <div id="message"></div>
    <textarea id="geoJSON">
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[-46.6155, -23.5023], [-46.6193, -23.5030], [-46.6247, -23.5073], [-46.6252, -23.5117], [-46.6218, -23.5115], [-46.6154, -23.5080], [-46.6150, -23.5037], [-46.6155, -23.5023]]]
      },
      "properties": {}
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "LineString",
        "coordinates": [[-46.6318, -23.4900], [-46.6256, -23.4916], [-46.6200, -23.4900], [-46.6100, -23.4900]]
      },
      "properties": {}
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [-46.6368, -23.5100]
      },
      "properties": {}
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [-46.6156, -23.5016]
      },
      "properties": {}
    }
  ]
}

    </textarea>
    <br />
    <button id="render">Render</button>
    <script src="../lib/js/jquery.js"></script>
    <script src="../lib/js/underscore.js"></script>
    <script src="../lib/js/backbone.js"></script>
    <script src="../lib/js/leaflet.js"></script>
    <script src="../src/backbone.leaflet.js"></script>
    <script>

      // Create a `GeoCollection` instance.
      var geoCollection = new Backbone.Leaflet.GeoCollection();

      // This isn't the backbone way, but we want to keep this example
      // as simple as possible.
      $( '#render' ).click( function () {
        geoCollection.reset( JSON.parse( $( '#geoJSON' ).val() ) );
      });

      // Create a `mapView` instance.
      var mapView = new Backbone.Leaflet.MapView({
        el: '#map',
        collection: geoCollection
      });

      $( '#render' ).click();

    </script>
  </body>
</html>
